package States;

import main.*;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class OpenTest {
    Cat cat;
    Cat cat2;
    Cat cat3;
    Open open;

    {
        try {
            cat = new Cat("Bob");
            cat2 = new Cat("Alice");
            cat3 = new Cat("Lucifer");

        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }
    CatFlap catFlap = new CatFlap();


    @Test
    void enter() {
        open = new Open(catFlap);
        catFlap.addCat(cat);
        assertTrue(open.enter(cat));
        assertFalse(open.enter(cat2));
        assertFalse(open.enter(cat3));
    }

    @Test
    void exit() {
        open = new Open(catFlap);
        catFlap.addCat(cat);
        assertTrue(open.exit(cat));
        assertFalse(open.exit(cat2));
    }
}